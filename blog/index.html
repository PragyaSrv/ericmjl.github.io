<!doctype html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <!-- Bootstrap v4beta Imports -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <style media="screen">
        body {
            padding-top: 70px;
            padding-bottom: 70px;
        }
    </style>

    
    

    <!-- Google Analytics -->
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-12498603-2', 'auto');
        ga('send', 'pageview');
    </script>

    <!-- ClustrMaps Tracking -->
    <!-- <script type="text/javascript" id="clstr_globe" src="//cdn.clustrmaps.com/globe.js?d=nhKoDpoTjWz4pC6CwI-fSy4hPoJ1uXwTLCfMCT3OK_8"></script> -->

    <!-- FontAwesome embed -->
    <!-- <script src="https://use.fontawesome.com/cb9dbe8e41.js"></script> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/custom.css">

    <!-- Mathjax -->
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>

</head>

<title>Blog - Eric J. Ma's Personal Site</title>
<body class="body">
    <nav class="navbar navbar-expand-sm navbar-light fixed-top bg-light">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#local-links" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="local-links">
            <ul class="navbar-nav mr-auto">
                
                <li class="nav-item">
                    <a class="nav-link" href="/"><i class="fa fa-home" aria-hidden="true"></i> Home</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="https://ericmjl.github.io/resume"><i class="fa far fa-file-alt" aria-hidden="true"></i> Resume</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/blog"><i class="fa fa-rss" aria-hidden="true"></i> Blog</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/open-source"><i class="fa fa-code" aria-hidden="true"></i> Open Source</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/projects"><i class="fa fa-briefcase" aria-hidden="true"></i> Projects</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/talks"><i class="fa fa-microphone" aria-hidden="true"></i> Talks</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/teaching"><i class="fa fa-university" aria-hidden="true"></i> Teaching</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/bio"><i class="fa fa-user" aria-hidden="true"></i> Bio</a>
                </li>
                
            </ul>
        </div>
    </nav>
    <div class="container">
        
  
    
  <!-- Import stylesheet -->
  <link rel="stylesheet" href="../static/pygments.css">
  <div>

  <!-- Set title style -->
  
    <h1><a href="../blog/2019/6/30/bone-marrow-donations/">Bone Marrow Donations</a></h1>
  

  <!-- Append author -->
  <p class="meta">
    written by
    
      <a href="https://twitter.com/ericmjl">Eric J. Ma</a>
    
    on 2019-06-30
  
  </p>
  <!-- Append tags after author -->
  <p>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/personal/">
          personal
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/charity/">
          charity
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/leukemia/">
          leukemia
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/donations/">
          donations
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/blood donation/">
          blood donation
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/community service/">
          community service
      </a>
      
  </p>
  

  <!-- Put post body -->
  <p>A friend of mine just reached out to me, saying that he’s been diagnosed with leukemia. Thankfully, he’s not subject to the abysmal state of US healthcare (as he lives in a place where healthcare coverage is great), and so he’s on treatment, progressing, and hopefully has a great shot at beating this cancer.</p>
<p>He definitely knows how to speak to a data scientist: using data. The odds of a match for a patient who needs a bone marrow transplant are 500:1. That means on average, only about 1 donor in 500 will be a match. On the other hand, under certain assumptions, every 500 donors who registers will mean one life, on average, can be saved. I did some digging myself: According to the <a href="https://bloodcell.transplant.hrsa.gov/research/registry_donor_data/index.html">US Health Resources and Services Administration</a>, nearly every single minority ethnic group is underrepresented in donor registry databases.</p>
<p>As things turn out, signing up to be a donor is quite lightweight. Genetic information - specifically, only Human Leukocyte Antigen (HLA) type - is needed, and that can be obtained in a non-invasive fashion. If a match is found, the donor still has the option to withdraw if they have any objections. As such, the process is completely voluntary for the donor. There are two types of donations possible: peripheral blood stem cells (PBSC) and bone marrow, with PBSC donations being lightweight and bone marrow donations being more involved. Digging a bit deeper, it seems like the only sacrifice a donor has to make is that of time and some discomfort.</p>
<p>I’m putting this blog post up as a reminder to myself to register, and to encourage others to do so as well. If you’re in the United States, <a href="https://bethematch.org/">Be The Match</a> is the organization to get in touch with; if you’re from my home country of Canada, the <a href="https://blood.ca/en">Canadian Blood Services</a> manages the process.</p>

  </div>

    <p><i>Did you enjoy this blog post? <a href="../blog/2019/6/30/bone-marrow-donations/#disqus">Let's discuss more</a>!</i></p>
    <hr class="fancy">
  
    
  <!-- Import stylesheet -->
  <link rel="stylesheet" href="../static/pygments.css">
  <div>

  <!-- Set title style -->
  
    <h1><a href="../blog/2019/6/15/graphs-and-matrices/">Graphs and Matrices</a></h1>
  

  <!-- Append author -->
  <p class="meta">
    written by
    
      <a href="https://twitter.com/ericmjl">Eric J. Ma</a>
    
    on 2019-06-15
  
  </p>
  <!-- Append tags after author -->
  <p>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/graphs/">
          graphs
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/network science/">
          network science
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/data science/">
          data science
      </a>
      
  </p>
  

  <!-- Put post body -->
  <p>Once again, I’m reminded through my research how neat and useful it is to be able to think of matrices as graphs and vice-versa.</p>
<p>I was constructing a symmetric square matrix of values, in which multiple cells of the matrix were empty (i.e. no values present). (Thankfully, the diagonal is guaranteed dense.) From this matrix, I wanted the largest set of rows/columns that formed a symmetric, densely populated square matrix of values, subject to a second constraint that the set of rows/columns also maximally intersected with another set of items.</p>
<p>Having thought about the requirements of the problem, my prior experience with graphs reminded me that every graph has a corresponding adjacency matrix, and that finding the densest symmetric subset of entries in the matrix was equivalent to finding cliques in a graph! My intern and I proceeded to convert the matrix into its graph representation, and a few API calls in <code>networkx</code> later, we found the matrix we needed.</p>
<p>The key takeaway from this experience? Finding the right representation for a problem, we can computationally solve them quickly by using the appropriate APIs!</p>

  </div>

    <p><i>Did you enjoy this blog post? <a href="../blog/2019/6/15/graphs-and-matrices/#disqus">Let's discuss more</a>!</i></p>
    <hr class="fancy">
  
    
  <!-- Import stylesheet -->
  <link rel="stylesheet" href="../static/pygments.css">
  <div>

  <!-- Set title style -->
  
    <h1><a href="../blog/2019/6/14/mobile-working-on-the-ipad/">Mobile Working on the iPad</a></h1>
  

  <!-- Append author -->
  <p class="meta">
    written by
    
      <a href="https://twitter.com/ericmjl">Eric J. Am</a>
    
    on 2019-06-14
  
  </p>
  <!-- Append tags after author -->
  <p>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/productivity/">
          productivity
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/mobile/">
          mobile
      </a>
      
  </p>
  

  <!-- Put post body -->
  <p>A few years ago, I test-drove mobile work using my thesis as a case study, basically challenging myself with the question: how much of my main thesis paper could I write on iOS (specifically, an iPad Mini)? Back then, iOS turned out to be a superb tool for the writing phase (getting ideas into a text editor), and a horrible one for final formatting before submitting a paper to a journal (inflexible). Now, don’t get me wrong, though - I would still use it as part of my workflow if I were to do it again!</p>
<p>Fast-forward a few years, I now do more programming in a data science context than I do formal writing, and the tooling for software development and data analysis on iOS has improved greatly. I thought I’d challenge myself with an experiment: how much of development and analytics could I do on an iPad, especially the Mini?</p>
<p>This time round, armed with an iPad Pro (11”), I decided to test again how much one can do on iOS, once again.</p>
<h2 id="software-development">Software Development</h2><p>I develop <a href="https://pyjanitor.readthedocs.io"><code>pyjanitor</code></a> as a tool that I use in my daily work, and as part of my open source software portfolio. When I’m on my MacBook or Pro, or on my Linux desktop at home, I usually work with VSCode for it’s integrated terminal, superb syntax highlighting, git integration, code completion with Kite, and more.</p>
<p>Moving to iOS, VSCode is not available, and that immediately means to rely on Terminal-based tools to get my work done. I ponied up for <a href="https://www.blink.sh/">Blink Shell</a>, and found it to pay off immediately. Having enabled remote access on my Linux tower at home, I was thrilled to learn that Blink supports <a href="https://mosh.org/"><code>mosh</code></a>, and when paired with <a href="https://github.com/tmux/tmux"><code>tmux</code></a>, it is a superb solution for maintaining persistent shells across spotty internet conditions.</p>
<p>A while ago, I also configured <code>nano</code> with syntax highlighting. As things turned out, syntax highlighting has the biggest effect on my productivity compared to other text editor enhancements (e.g. code completion, git integration, etc.). After I mastered most of <code>nano</code>'s shortcut keys, I found I could be productive at coding in just <code>nano</code> itself. Even though missing out on the usual assistive tools meant I was coding somewhat slower, the pace was still acceptable; moreover, relying less on those tools helped me develop a muscle memory for certain API calls. I also found myself becoming more effective because the single window idioms of iOS meant I was focusing on the programming task at hand, rather than getting distracted while looking at docs in a web browser (a surprisingly common happening for me!).</p>
<h2 id="data-analysis">Data Analysis</h2><p>For data analysis, Jupyter notebooks are the tool of my choice, for their interactive nature, and the ability to weave a narrative throughout the computation. Jupyter Lab is awesome for this task, but it’s poorly supported on mobile Safari. To use Jupyter notebooks in iOS, the best offering at the moment is <a href="https://juno.sh">Juno</a>, with its ability to connect to a Jupyter server accessible through an IP address or URL. This does require payment, though, and I gladly ponied up for that as well.</p>
<p>I run a Jupyter server on my Linux tower at home. Because it has a GPU installed on it, when I am accessing the machine through Juno, my iPad suddenly has access to a full-fledged, fully-configured GPU as part of the compute environment! Coupled with the responsiveness of Juno, this makes for a fairly compelling setup to do Python programming on an iPad.</p>
<h2 id="pros-and-cons-of-ipad-mini-based-development">Pros and Cons of iPad Mini-based Development</h2><h3 id="cons">Cons</h3><p>Overall, the experience has been positive, but there have been some challenges, which I would like to detail here.</p>
<p><strong>Remote server required:</strong> Firstly, because we are essentially using the iPad as a thin client to a remote server, one must either pay for a remote development server in the cloud, or go through the hassle of setting up a development machine that one can SSH into. This may turn off individuals who either are loathe to rent a computer, or don’t have the necessary experience to setup a remote server on their own.</p>
<p><strong>iOS Multi-Windowing:</strong> It’s sometimes non-trivial to check up source code or function signatures (API docs, really) on the sidebar browser window in iOS. Unlike macOS, in which I have a number of shortcut keys that will let me launch and/or switch between apps, the lack of this capability on iOS means I find myself slowed down because I have to use a bunch of swiping gestures to get to where I need to be. (<code>Cmd-tab</code> seems to be the only exception, for it activates the app switcher, but the number of apps in the app switcher remembers is limited.)</p>
<h3 id="pros">Pros</h3><p>Even with the issues detailed above, there’s still much to love about doing mobile development work on an iOS device.</p>
<p><strong>iOS Speed:</strong> On the latest hardware, iOS is speedy. Well, even that is a bit of an understatement. I rarely get lags while typing in Blink and Juno, and even when I do, I can usually pin it down to network latency more than RAM issues.</p>
<p><strong>Focus:</strong> This is the biggest win. Because iOS makes it difficult to switch contexts, this is actually an upside for work that involves creating things. Whether it’s someone who is drawing, producing videos, editing photos, writing blog posts, or creating code, the ability to focus on the context at hand is tremendous for producing high quality work. Here, iOS is actually a winner for focused productivity.</p>
<p><strong>Mobility:</strong> The second upside would be that of battery life, and hence mobility, by extension. My 12” MacBook is super mobile, yes, but macOS appears to have issues restraining battery drainage when the lid is closed. By contrast, iOS seems to have fewer issues with this. The battery life concerns mean I’m carrying my mouse, charger and dongle with me all the time, and I’ll get the equivalent of range anxiety when I take only my laptop.</p>
<p><strong>Keyboard Experience:</strong> The keyboard experience on the Smart Keyboard Folio is surprisingly good! It’s tactile, and is fully covered, so we won’t have issues arise due to dust getting underneath the keys, like my little MacBook had.</p>
<h2 id="concluding-thoughts">Concluding Thoughts</h2><p>This test has been quite instructive. As usual, tooling is superbly important for productivity; investing in the right tools makes it worthwhile. Granted, none of this comes cheap or for free, naturally. Given the future directions of iOS, I think it’s shaping up to be a real contender for productivity!</p>

  </div>

    <p><i>Did you enjoy this blog post? <a href="../blog/2019/6/14/mobile-working-on-the-ipad/#disqus">Let's discuss more</a>!</i></p>
    <hr class="fancy">
  
    
  <!-- Import stylesheet -->
  <link rel="stylesheet" href="../static/pygments.css">
  <div>

  <!-- Set title style -->
  
    <h1><a href="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/">Reasoning about Shapes and Probability Distributions</a></h1>
  

  <!-- Append author -->
  <p class="meta">
    written by
    
      <a href="https://twitter.com/ericmjl">Eric J. Ma</a>
    
    on 2019-05-29
  
  </p>
  <!-- Append tags after author -->
  <p>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/bayesian/">
          bayesian
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/probabilistic programming/">
          probabilistic programming
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/tensors/">
          tensors
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/data science/">
          data science
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/probability distributions/">
          probability distributions
      </a>
      
  </p>
  

  <!-- Put post body -->
  <p>I’m here with the PyMC4 dev team and Tensorflow Probability developers Rif, Brian and Chris in Google Montreal, and have found the time thus far to be an amazing learning opportunity.</p>
<p>Prior to this summit, it never dawned on me how interfacing tensors with probability distributions could be such a minefield of overloaded ideas and terminology. Yet, communicating clearly about tensors is important, because if problems can be cast into a tensor-space operation, vectorization can help speed up many operations that we wish to handle. I wanted to share a bit about something new about tensors that I learned here: the different types of shapes involved in a probabilistic programming language.</p>
<p>Let’s start by thinking about a few questions involving the most venerable distribution of them all: the Gaussian, also known as the Normal distribution.</p>
<p>Let’s start by thinking about a single draw from a standard Gaussian. Drawing one number from the standard Gaussian yields a scalar. In tensor space, a scalar is a rank 0 tensor, and this colloquially means that there’s no dimensions involved. If we drew out the distribution, and drew out the process of drawing numbers from the distribution, it might look like the following:</p>
<p><img src="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/one-draw-one-normal.png" alt=""></p>
<p><em>The distribution we are drawing from is on the left, and a draw is represented by a line (on the same numerical axis as the probability distribution), and the </em>event shape<em>, </em>batch shape<em> and </em>sample shape<em> shown to their right, followed by a "plain English" description. Over the course of this blog post, the shape concepts will be disambiguated; sit tight and enjoy the ride!</em></p>
<p>What if we were to draw two numbers from this one Gaussian? We could use a vector with two slots to represent those draws. This might look like the following:</p>
<p><img src="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/two-draws-one-normal.png" alt=""></p>
<p>However, the elementary <em>event</em> of drawing a single number did not fundamentally change when we drew two numbers, as we merely repeated the same <em>event</em> to draw two. With my hands waving in the air, I will claim that this holds true even with K <em>samples</em> drawn from the distribution.</p>
<p>Now, what if I had a second Gaussian, say, with a different mean and/or variance? If I were to draw one number from the first Gaussian alongside one number from the second Gaussian, and then concatenate them into a vector, we can represent this as us drawing numbers from independent Gaussians. The illustration below should help clarify how this is different from the first.</p>
<p><img src="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/one-draw-two-normals.png" alt=""></p>
<p>In this case, we may argue that per distribution, the elementary shape of the <em>event</em> did not change. However, since we have a <em>batch</em> of two distributions, this contributes to the final shape of the tensor. Again, with much waving of my hands in the air, this should extend to more than two distributions.</p>
<p>Now, what if we had a multivariate Gaussian, with two variates? This makes for a very interesting case! The elementary <em>event</em> drawn from this multivariate Gaussian is a two-element vector, not a scalar, which means that its shape is apparently identical to the case where we have a single pair of numbers drawn from a batch of two independent Gaussians! This looks like the following:</p>
<p><img src="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/one-draw-bivariate-normal.png" alt=""></p>
<p>This is interesting, because a single draw from a bivariate Gaussian has the same overall shape as two draws from one Gaussian, which also has the same shape as one draw from a batch of two Gaussians. Yet, these apparently same-shaped draws are shaped differently semantically! In particular, the two independent Gaussians individually have elementary <em>event</em> shapes that are scalar, but when drawn as a <em>batch</em> of two, that is when their shape of <code>(2,)</code> forms. On the other hand, the multivariate Gaussian cannot have its two numbers drawn independent of one another (unless this is the special case of diagonal-only covariance - in which case, this is equivalent to independent Gaussians). Hence, the elementary <em>event</em> shape is not scalar, but vector (or more generally, same rank tensor as the mean tensor), but the <em>batch</em> has only a single distribution, hence it has a scalar batch shape.</p>
<p>To summarize, here are the various kinds of shapes, defined:</p>
<p><strong>Event shape:</strong> The atomic shape of a single event/observation from the distribution (or batch of distributions of the same family).</p>
<p><strong>Batch shape:</strong> The atomic shape of a single sample of observations from one or more distributions <em>of the same family</em>. As an example, we can’t have a batch of a Gaussian and a Gamma distribution together, but we can have a batch of more than one Gaussians.</p>
<p><strong>Sample shape:</strong> The shape of a bunch of samples drawn from the distributions.</p>
<p>And finally, here’s the full spread of possibilities, using one or two draws, uni- or bi-variate Gaussians, and one or two batches of distributions as an illustration.</p>
<p><img src="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/shapes-blog-post-md.png" alt=""></p>
<p>Special thanks goes to fellow PyMC devs, Ravin Kumar, Brandon Willard, Colin Carroll, and Peadar Coyle, who provided feedback on the figure over a late-night tea/dinner/bar session at the end of Day 2.</p>
<h2 id="why-shapes-matter:-broadcasting">Why Shapes Matter: Broadcasting</h2><p>Why do these different shapes matter? Well, it matters most when we are thinking about broadcasting in a semantically-consistent fashion, particularly when considering batches and events. When it comes to implementing a tensor library with probability distributions as first-class citizens, reasoning about these shapes properly can really help with implementing an API that end-users can grok in a reasonable fashion.</p>
<p>Let’s return to the simple case where we have two different types of shape <code>(2,)</code> Gaussians declared: a batch of two Gaussians, and a bivariate Gaussian. One useful thought experiment is to think about the computation of the log probability of a vector of two numbers, <code>X = (x1, x2)</code>, where <code>x1</code> and <code>x2</code> are not necessarily the same numbers.</p>
<p>In the case of the bivariate Gaussians, how many log probabilities should we return? In this case, it makes semantic sense to return only one number, because in a bivariate Gaussian, the two numbers could not have been drawn independent of each other, and hence the log probability has to be computed with consideration to the full joint distribution.</p>
<p>In the case of the batch of two Gaussians, how many log probabilities should we return? Is it one number, or is it two? Semantically, it makes sense to return two numbers, because we are evaluating <code>x1</code> against the first Gaussian, and <code>x2</code> against the second Gaussian in the batch of Gaussians. Most crucially, this differs from the bivariate case, because by structuring our Gaussians in a batch, we are essentially declaring our intent to evaluate their log probabilities independent of each other.</p>
<p>Borrowing from the above master figure, here's the a figure that shows how likelihood computations happen:</p>
<p><img src="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/likelihood-computation.png" alt=""></p>
<p><em>To compute the likelihood over the data, we multiply the likelihoods of each of the individual data points. You will noticed that essentially, in each case, the dimension we intend to collapse is the <code>sample</code> dimension - and that means keeping track of the sample dimension is extremely important! Also important to note is that we do </em>not<em> intend to collapse the <code>batch</code> dimension, as it does not carry the same statistical meaning as a <code>sample</code> from a distribution, but is a tensor computation construct.</em></p>
<h2 id="other-scenarios">Other Scenarios</h2><p>There are more scenarios where reasoning about shapes in a <em>semantic</em> manner becomes super important! Here’s a sampling of them, posed as questions and then maybe some suggested answers or further questions.</p>
<p>If I now asked to evaluate the log probability of <code>x1</code> only, how should broadcasting of <code>x1</code> happen on the bivariate Gaussian, and on the batch of two Gaussians? Perhaps in this trivial case, it would be tempting to automatically broadcast the same scalar number... but wait! In the case of the bivariate Gaussian, how do we know that the end-user has not forgotten to supply the second number?</p>
<p>If I have a batch of two bivariate Gaussians, hence effectively creating a (batch shape = 2, event shape = 2) vector of bivariate distributions, and I ask to evaluate the log probability of a matrix of values <code>((x1, x2), (x3, x4))</code>, in which way do we orient the values? Do we assume that <code>(x1, x2)</code> are to be evaluated against the first Gaussian, or <code>(x1, x3)</code> are to be evaluated against the first Gaussian? (We don’t have to worry about <code>(x1, x4)</code>, because to the average user, it is unreasonable whichever way we look.)</p>
<p>Both these examples illustrate an inherent difficulty to thinking about tensor shapes without reference to what each of the dimensions mean.</p>
<h2 id="improving-shape-semantics">Improving Shape Semantics</h2><p>What could we do, then, to improve the semantic understandability of tensor shapes?</p>
<p>One solution would be to name tensor axes by what they mean. The <code>xarray</code> project does exactly that! However, it can’t be used in differential computing, because (to the best of my knowledge), there is no automatic differentiation system that works with it.</p>
<p>In addition, there’s <code>namedtensor</code> from Harvard NLP that aims to provide an analogous solution to the problem, though I find it a pity that they chose to implement it against <code>pytorch</code> rather than to create an extension to the idiomatic <code>numpy</code> instead.</p>
<p>The TensorFlow Probability team also has a solution, in which they separate the three types of shapes explicitly, though no naming happens on a per-axis basis.</p>
<p>I think there are great ideas in all three, and when I take a birds-eye view of the scientific computing ecosystem in Python as both a developer and end-user, I’d love to see the NumPy API, which is idiomatic and widely used and built on top of, become aware of each of these types of designs, something akin to NEP-18, the array function dispatching protocol that allows NumPy APIs to be called on other tensor libraries.</p>

  </div>

    <p><i>Did you enjoy this blog post? <a href="../blog/2019/5/29/reasoning-about-shapes-and-probability-distributions/#disqus">Let's discuss more</a>!</i></p>
    <hr class="fancy">
  
    
  <!-- Import stylesheet -->
  <link rel="stylesheet" href="../static/pygments.css">
  <div>

  <!-- Set title style -->
  
    <h1><a href="../blog/2019/5/10/context-switching/">Context Switching</a></h1>
  

  <!-- Append author -->
  <p class="meta">
    written by
    
      <a href="https://twitter.com/ericmjl">Eric J. Ma</a>
    
    on 2019-05-10
  
  </p>
  <!-- Append tags after author -->
  <p>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/programming/">
          programming
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/coding/">
          coding
      </a>
      <i class="fas fa-tag"></i>
      <a href="../blog/tag/data science/">
          data science
      </a>
      
  </p>
  

  <!-- Put post body -->
  <p>Context switching is hard. I noticed this when I was at the PyCon sprints, where I was bouncing from sprinter to sprinter, trying to give them each the necessary attention to get their chosen sprint tasks done. After a while, it took a toll on my brain, and I started finding it hard to concentrate on the next problem.</p>
<p>Under such circumstances, when one is context switching often (most hopefully out of one's own volition), how do we communicate that we need some ramp-up time, and how can others help us help them?</p>
<p>I think one practical thing that can be done is to frequently communicate on each context switch that context ramp-up is needed. In the future, when I switch contexts, first thing I'm going to ask is something along the lines of, "What context do I need to help me help you?" Or, if I'm lost, I can clearly communicate what I'm missing - if it's context that I'm missing - by stating, "I think I'm missing some context. Can you bring me up to speed?"</p>
<p>At least while sprinting, sprinters can definitely help me help them by providing the necessary context up-front. Perhaps this applies more generally as well: when we're asking someone for help, we may be able to help them out by asking them, "What context from me would help you get up-to-speed here?"</p>

  </div>

    <p><i>Did you enjoy this blog post? <a href="../blog/2019/5/10/context-switching/#disqus">Let's discuss more</a>!</i></p>
    <hr class="fancy">
  

  
  <div class="pagination">
    
      <span class="disabled">&laquo; Previous</span>
    
    | 1 |
    
      <a href="../blog/page/2/">Next &raquo;</a>
    
  </div>


    </div>

    <nav class="navbar navbar-expand-sm navbar-light fixed-bottom bg-light">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#external-links" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="external-links">
            <ul class="navbar-nav mr-auto">
                
                <li class="nav-item">
                    <a class="nav-link" href="https://www.linkedin.com/in/ericmjl"><i class="fab fa-linkedin" aria-hidden="true"></i> LinkedIn</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="http://twitter.com/ericmjl"><i class="fab fa-twitter" aria-hidden="true"></i> Twitter</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="http://github.com/ericmjl"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="http://stackoverflow.com/users/1274908/ericmjl"><i class="fab fa-stack-overflow" aria-hidden="true"></i> Stack Overflow</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="http://shortwhale.com/ericmjl"><i class="far fa-envelope" aria-hidden="true"></i> Contact Me</a>
                </li>
                
            </ul>
        </div>
    </nav>
    <!-- Boostrap JS imports -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
</body>
